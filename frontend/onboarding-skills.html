<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Onboarding (3/3): Skills</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body class="bg-light">
    <div class="container">
        <div class="row justify-content-center" style="padding-top: 5vh;">
            <div class="col-md-8 col-lg-7">
                <div class="card shadow"><div class="card-body p-4 p-md-5">
                    <h2 class="card-title text-center mb-4">Define Your Skillset</h2>
                    <div class="progress mb-4" style="height: 10px;"><div class="progress-bar" style="width: 100%;"></div></div>
                    <form id="skills-form">
                        <div class="accordion" id="skills-accordion">
                            <div class="text-center p-5"><div class="spinner-border text-primary" role="status"></div></div>
                        </div>
                        <div id="error-message" class="alert alert-danger mt-3" style="display: none;"></div>
                        <div class="d-grid mt-4"><button type="submit" id="submit-btn" class="btn btn-success btn-lg">Complete Profile & Enter</button></div>
                    </form>
                </div></div>
            </div>
        </div>
    </div>

    <!-- SCRIPT LOADING SECTION -->
    <!-- We load all scripts here, but DO NOT call any functions yet. -->
    <script src="/js/onboarding-logic.js"></script>
    <script async src="https://cdn.jsdelivr.net/npm/@clerk/clerk-js@latest/dist/clerk.browser.js"
        data-clerk-publishable-key="pk_test_aWRlYWwtaGFnZmlzaC02NS5jbGVyay5hY2NvdW50cy5kZXYk">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- ** THIS IS THE NEW, ROBUST INITIALIZATION SCRIPT ** -->
    <script>
        // This script runs after all the above scripts have been downloaded.
        document.addEventListener('DOMContentLoaded', () => {
            // Now we can be 100% sure that the initializeSkillsPage function exists.
            // We call it here manually.
            initializeSkillsPage();
        });
    </script>
</body>
</html>